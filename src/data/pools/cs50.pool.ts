import type { Task } from "../task-types";

export const CS50_TASKS: Task[] = [
  // =========================================================
  // ROOT
  // =========================================================
  {
    id: "root_cs50_2026",
    type: "root",
    title: "Harvard CS50 2026 (Root)",
    description:
      "CS50 2026 全流程任務樹：依課程 Week 0 → Week 10 → Final Project。",
    energy: "medium",
    duration: { min: 10, max: 20 },
    tags: ["cs50", "learning", "root", "harvard"],
  },

  // =========================================================
  // STAGES (Week 0 ~ Week 5)
  // =========================================================
  {
    id: "stage_cs50_week0",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 0,
    title: "CS50 Week 0: Scratch",
    description: "Scratch 入門，理解計算思維：事件、循環、條件、變量、函數。",
    energy: "easy",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week0", "scratch", "stage"],
  },
  {
    id: "stage_cs50_week1",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 1,
    title: "CS50 Week 1: C Basics",
    description: "C 語言基礎：編譯、變量、if/else、loops、命令行輸入輸出。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week1", "c", "stage"],
    prerequisites: ["task_cs50_week0_watch_intro"],
  },
  {
    id: "stage_cs50_week2",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 2,
    title: "CS50 Week 2: Arrays",
    description:
      "陣列、字串、ASCII、加密思維、演算法初步（sorting/searching）。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week2", "arrays", "stage"],
    prerequisites: ["task_cs50_week1_hello"],
  },
  {
    id: "stage_cs50_week3",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 3,
    title: "CS50 Week 3: Algorithms",
    description: "排序、搜尋、Big-O、遞迴、比較不同策略的時間複雜度。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week3", "algorithms", "stage"],
    prerequisites: ["task_cs50_week2_caesar"],
  },
  {
    id: "stage_cs50_week4",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 4,
    title: "CS50 Week 4: Memory",
    description:
      "指標、記憶體、malloc/free、debugging、valgrind、資料結構基礎。",
    energy: "hard",
    duration: { min: 15, max: 30 },
    tags: ["cs50", "week4", "memory", "stage"],
    prerequisites: ["task_cs50_week3_plurality"],
  },
  {
    id: "stage_cs50_week5",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 5,
    title: "CS50 Week 5: Data Structures",
    description:
      "linked list、hash table、tree、stack/queue，理解資料結構的 tradeoff。",
    energy: "hard",
    duration: { min: 15, max: 30 },
    tags: ["cs50", "week5", "data-structures", "stage"],
    prerequisites: ["task_cs50_week4_filter"],
  },

  // =========================================================
  // WEEK 0 (Scratch)
  // =========================================================
  {
    id: "task_cs50_week0_watch_intro",
    type: "leaf",
    parentId: "stage_cs50_week0",
    order: 0,
    title: "CS50 Week0：看課程前 20 分鐘",
    description:
      "只看 Week0 Lecture 的前 20 分鐘，記下 5 個關鍵概念（用自己的話）。",
    energy: "easy",
    duration: { min: 15, max: 25 },
    tags: ["cs50", "week0", "lecture", "scratch"],
  },
  {
    id: "task_cs50_week0_notes_5_terms",
    type: "leaf",
    parentId: "stage_cs50_week0",
    order: 1,
    title: "寫 5 個 CS50 Week0 關鍵詞",
    description:
      "寫下 5 個關鍵詞（例如：algorithm, bug, binary, abstraction, input/output），每個寫一句自己的理解。",
    energy: "easy",
    duration: { min: 10, max: 20 },
    tags: ["cs50", "week0", "notes", "scratch"],
    prerequisites: ["task_cs50_week0_watch_intro"],
  },
  {
    id: "task_cs50_week0_scratch_remix",
    type: "leaf",
    parentId: "stage_cs50_week0",
    order: 2,
    title: "Scratch：改造一個範例作品",
    description:
      "在 Scratch 找一個範例 project（或課程提供），改造一個功能：增加計分或增加一個新事件。",
    energy: "medium",
    duration: { min: 25, max: 40 },
    tags: ["cs50", "week0", "scratch", "project"],
    prerequisites: ["task_cs50_week0_notes_5_terms"],
  },
  {
    id: "task_cs50_week0_scratch_make_micro_game",
    type: "leaf",
    parentId: "stage_cs50_week0",
    order: 3,
    title: "Scratch：做一個超小遊戲（10 分鐘玩法）",
    description:
      "做一個最小可玩 Scratch 遊戲：開始 → 互動 → 結束。目標是「可玩」，不是「完美」。",
    energy: "medium",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week0", "scratch", "game"],
    prerequisites: ["task_cs50_week0_scratch_remix"],
  },

  // =========================================================
  // WEEK 1 (C Basics)
  // =========================================================
  {
    id: "task_cs50_week1_install_env",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 0,
    title: "準備 CS50 開發環境（codespace / local）",
    description:
      "建立 CS50 Codespace 或 local 編譯環境。確保可以執行：clang hello.c。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week1", "setup", "c"],
    prerequisites: ["task_cs50_week0_watch_intro"],
  },
  {
    id: "task_cs50_week1_hello",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 1,
    title: "寫 hello.c 並編譯成功",
    description: "寫一個 hello.c：輸出 Hello, world。用 clang 編譯並成功執行。",
    energy: "easy",
    duration: { min: 15, max: 25 },
    tags: ["cs50", "week1", "c", "hello"],
    prerequisites: ["task_cs50_week1_install_env"],
  },
  {
    id: "task_cs50_week1_read_c_basics",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 2,
    title: "讀懂 C 程式結構：main / include / return",
    description:
      "把 hello.c 逐行加註釋，確保你能說明：include、main、printf、return 的作用。",
    energy: "easy",
    duration: { min: 10, max: 20 },
    tags: ["cs50", "week1", "c", "notes"],
    prerequisites: ["task_cs50_week1_hello"],
  },
  {
    id: "task_cs50_week1_input_output",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 3,
    title: "C：寫一個問候程式（輸入名字）",
    description: "寫 greet.c：詢問名字並輸出：Hello, <name>。",
    energy: "medium",
    duration: { min: 20, max: 35 },
    tags: ["cs50", "week1", "c", "io"],
    prerequisites: ["task_cs50_week1_read_c_basics"],
  },
  {
    id: "task_cs50_week1_loops_practice",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 4,
    title: "C：寫 3 個 loop 小練習",
    description:
      "寫 loops.c：for 印 1~10；while 倒數；do-while 確保至少執行一次。每個加註釋。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week1", "c", "loops"],
    prerequisites: ["task_cs50_week1_input_output"],
  },
  {
    id: "task_cs50_week1_mario_half_pyramid",
    type: "leaf",
    parentId: "stage_cs50_week1",
    order: 5,
    title: "Problem Set：Mario（半金字塔）",
    description: "完成 Mario 半金字塔（輸入高度，輸出 # 形成階梯）。",
    energy: "hard",
    duration: { min: 40, max: 80 },
    tags: ["cs50", "week1", "pset", "mario"],
    prerequisites: ["task_cs50_week1_loops_practice"],
  },

  // =========================================================
  // WEEK 2 (Arrays / Strings)
  // =========================================================
  {
    id: "task_cs50_week2_ascii_string_notes",
    type: "leaf",
    parentId: "stage_cs50_week2",
    order: 0,
    title: "理解 ASCII 與字串的本質",
    description:
      "寫一段筆記：字串是 char array；每個字符是 ASCII code；末尾有 \\0。",
    energy: "easy",
    duration: { min: 15, max: 25 },
    tags: ["cs50", "week2", "ascii", "strings", "notes"],
    prerequisites: ["task_cs50_week1_hello"],
  },
  {
    id: "task_cs50_week2_string_iter",
    type: "leaf",
    parentId: "stage_cs50_week2",
    order: 1,
    title: "寫一個程式遍歷字串並輸出每個字符",
    description: "寫 iterate.c：輸入一個字串，逐字符輸出字符與 ASCII code。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week2", "strings", "c"],
    prerequisites: ["task_cs50_week2_ascii_string_notes"],
  },
  {
    id: "task_cs50_week2_arrays_sum",
    type: "leaf",
    parentId: "stage_cs50_week2",
    order: 2,
    title: "陣列練習：求平均數",
    description: "寫 average.c：陣列存放分數，計算平均值（double）。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week2", "arrays", "c"],
    prerequisites: ["task_cs50_week2_string_iter"],
  },
  {
    id: "task_cs50_week2_caesar",
    type: "leaf",
    parentId: "stage_cs50_week2",
    order: 3,
    title: "Problem Set：Caesar（凱撒加密）",
    description: "完成 Caesar cipher：命令行輸入 key，對文本進行 shift 加密。",
    energy: "hard",
    duration: { min: 45, max: 90 },
    tags: ["cs50", "week2", "pset", "caesar", "crypto"],
    prerequisites: ["task_cs50_week2_arrays_sum"],
  },

  // =========================================================
  // WEEK 3 (Algorithms)
  // =========================================================
  {
    id: "task_cs50_week3_big_o_notes",
    type: "leaf",
    parentId: "stage_cs50_week3",
    order: 0,
    title: "Big-O 筆記：O(1), O(n), O(log n), O(n^2)",
    description:
      "用自己的話寫一份 Big-O 筆記，並給每個例子：線性搜尋、二分搜尋、冒泡排序。",
    energy: "easy",
    duration: { min: 15, max: 30 },
    tags: ["cs50", "week3", "algorithms", "big-o", "notes"],
    prerequisites: ["task_cs50_week2_caesar"],
  },
  {
    id: "task_cs50_week3_searching_demo",
    type: "leaf",
    parentId: "stage_cs50_week3",
    order: 1,
    title: "寫 linear search 與 binary search 對比",
    description:
      "寫 search.c：實作 linear search 和 binary search，並比較效率。",
    energy: "medium",
    duration: { min: 30, max: 50 },
    tags: ["cs50", "week3", "search", "c"],
    prerequisites: ["task_cs50_week3_big_o_notes"],
  },
  {
    id: "task_cs50_week3_sorting_demo",
    type: "leaf",
    parentId: "stage_cs50_week3",
    order: 2,
    title: "寫 bubble sort / selection sort / insertion sort 任意一個",
    description: "寫 sort.c：實作一種排序演算法，並寫註釋說明每一步。",
    energy: "medium",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week3", "sorting", "c"],
    prerequisites: ["task_cs50_week3_searching_demo"],
  },
  {
    id: "task_cs50_week3_plurality",
    type: "leaf",
    parentId: "stage_cs50_week3",
    order: 3,
    title: "Problem Set：Plurality（投票）",
    description: "完成 plurality：統計候選人票數，輸出 winner。",
    energy: "hard",
    duration: { min: 60, max: 120 },
    tags: ["cs50", "week3", "pset", "plurality", "c"],
    prerequisites: ["task_cs50_week3_sorting_demo"],
  },

  // =========================================================
  // WEEK 4 (Memory)
  // =========================================================
  {
    id: "task_cs50_week4_pointer_notes",
    type: "leaf",
    parentId: "stage_cs50_week4",
    order: 0,
    title: "指標筆記：& 與 * 的意義",
    description:
      "寫一份筆記：指標是地址，& 取地址，* 解引用。用 2~3 個例子說明。",
    energy: "medium",
    duration: { min: 20, max: 35 },
    tags: ["cs50", "week4", "pointers", "notes"],
    prerequisites: ["task_cs50_week3_plurality"],
  },
  {
    id: "task_cs50_week4_malloc_free_demo",
    type: "leaf",
    parentId: "stage_cs50_week4",
    order: 1,
    title: "寫 malloc/free demo 程式",
    description:
      "寫 mem.c：malloc 一段記憶體存字串，修改內容，最後 free。加註釋。",
    energy: "hard",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week4", "malloc", "free", "c"],
    prerequisites: ["task_cs50_week4_pointer_notes"],
  },
  {
    id: "task_cs50_week4_valgrind_practice",
    type: "leaf",
    parentId: "stage_cs50_week4",
    order: 2,
    title: "用 valgrind 找 memory leak",
    description: "故意寫一個 memory leak 程式，再用 valgrind 找出問題並修復。",
    energy: "hard",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week4", "valgrind", "debugging"],
    prerequisites: ["task_cs50_week4_malloc_free_demo"],
  },
  {
    id: "task_cs50_week4_filter",
    type: "leaf",
    parentId: "stage_cs50_week4",
    order: 3,
    title: "Problem Set：Filter（圖像處理）",
    description:
      "完成 filter：grayscale, sepia, reflect, blur（按 CS50 要求）。",
    energy: "hard",
    duration: { min: 90, max: 160 },
    tags: ["cs50", "week4", "pset", "filter", "bmp"],
    prerequisites: ["task_cs50_week4_valgrind_practice"],
  },

  // =========================================================
  // WEEK 5 (Data Structures)
  // =========================================================
  {
    id: "task_cs50_week5_ds_notes_overview",
    type: "leaf",
    parentId: "stage_cs50_week5",
    order: 0,
    title: "資料結構總覽筆記：array vs linked list vs hash table",
    description: "寫一份對比筆記：每種資料結構的插入/刪除/查找優缺點。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week5", "data-structures", "notes"],
    prerequisites: ["task_cs50_week4_filter"],
  },
  {
    id: "task_cs50_week5_linked_list_demo",
    type: "leaf",
    parentId: "stage_cs50_week5",
    order: 1,
    title: "實作一個最小 linked list（插入 + 遍歷）",
    description:
      "寫 list.c：定義 node struct，malloc 新節點插入頭部，遍歷輸出，最後 free。",
    energy: "hard",
    duration: { min: 40, max: 80 },
    tags: ["cs50", "week5", "linked-list", "c"],
    prerequisites: ["task_cs50_week5_ds_notes_overview"],
  },
  {
    id: "task_cs50_week5_hash_table_notes",
    type: "leaf",
    parentId: "stage_cs50_week5",
    order: 2,
    title: "理解 hash table：寫 hash function 筆記",
    description:
      "寫筆記：什麼是 hash table？collision 是什麼？chaining vs open addressing。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week5", "hash-table", "notes"],
    prerequisites: ["task_cs50_week5_linked_list_demo"],
  },
  {
    id: "task_cs50_week5_speller",
    type: "leaf",
    parentId: "stage_cs50_week5",
    order: 3,
    title: "Problem Set：Speller（字典檢查）",
    description:
      "完成 speller：使用 hash table 加載字典，檢查拼寫，並正確釋放記憶體。",
    energy: "hard",
    duration: { min: 120, max: 220 },
    tags: ["cs50", "week5", "pset", "speller", "hash-table"],
    prerequisites: ["task_cs50_week5_hash_table_notes"],
  },

  // =========================================================
  // STAGES (Week 6 ~ Week 8)
  // =========================================================
  {
    id: "stage_cs50_week6",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 6,
    title: "CS50 Week 6: Python",
    description:
      "Python 入門：語法、列表、字典、函數、讀寫檔案，並理解 Python 與 C 的差異。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week6", "python", "stage"],
    prerequisites: ["task_cs50_week5_speller"],
  },
  {
    id: "stage_cs50_week7",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 7,
    title: "CS50 Week 7: SQL",
    description:
      "SQL 資料庫：SELECT, WHERE, JOIN, GROUP BY，理解 relational database。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week7", "sql", "database", "stage"],
    prerequisites: ["task_cs50_week6_sentimental_cash"],
  },
  {
    id: "stage_cs50_week8",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 8,
    title: "CS50 Week 8: HTML, CSS, JavaScript",
    description:
      "Web 入門：HTML/CSS/JS，DOM、事件、fetch，為 Flask 與 Final Project 做準備。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week8", "web", "javascript", "stage"],
    prerequisites: ["task_cs50_week7_fiftyville"],
  },

  // =========================================================
  // WEEK 6 (Python)
  // =========================================================
  {
    id: "task_cs50_week6_python_notes_basics",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 0,
    title: "Python 基礎筆記：語法對比 C",
    description:
      "寫一份 Python vs C 的差異筆記：縮排、變量型別、list/dict、for-in。",
    energy: "easy",
    duration: { min: 15, max: 25 },
    tags: ["cs50", "week6", "python", "notes"],
    prerequisites: ["task_cs50_week5_speller"],
  },
  {
    id: "task_cs50_week6_python_print_input",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 1,
    title: "Python：寫 hello.py + input",
    description: "寫 hello.py：輸入名字並輸出 Hello, <name>。並測試不同輸入。",
    energy: "easy",
    duration: { min: 10, max: 20 },
    tags: ["cs50", "week6", "python", "basics"],
    prerequisites: ["task_cs50_week6_python_notes_basics"],
  },
  {
    id: "task_cs50_week6_python_list_dict_micro",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 2,
    title: "Python：list/dict 小練習",
    description:
      "寫 practice.py：list 存 5 個數字求平均；dict 存 3 個人名與年齡並遍歷輸出。",
    energy: "medium",
    duration: { min: 20, max: 35 },
    tags: ["cs50", "week6", "python", "list", "dict"],
    prerequisites: ["task_cs50_week6_python_print_input"],
  },
  {
    id: "task_cs50_week6_python_file_read_write",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 3,
    title: "Python：讀寫檔案（最小練習）",
    description:
      "寫 fileio.py：寫入一個 txt 檔，再讀出內容並打印。理解 open/read/write。",
    energy: "medium",
    duration: { min: 20, max: 35 },
    tags: ["cs50", "week6", "python", "fileio"],
    prerequisites: ["task_cs50_week6_python_list_dict_micro"],
  },
  {
    id: "task_cs50_week6_sentimental_mario",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 4,
    title: "Sentimental Mario（用 Python 重寫 Mario）",
    description: "用 Python 寫 Mario 金字塔。重點是把 loop 邏輯轉換成 Python。",
    energy: "medium",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week6", "python", "mario", "pset"],
    prerequisites: ["task_cs50_week6_python_file_read_write"],
  },
  {
    id: "task_cs50_week6_sentimental_cash",
    type: "leaf",
    parentId: "stage_cs50_week6",
    order: 5,
    title: "Problem Set：Sentimental Cash（Python）",
    description: "用 Python 寫 cash：計算最少硬幣數量。練習浮點數處理與迴圈。",
    energy: "hard",
    duration: { min: 45, max: 90 },
    tags: ["cs50", "week6", "python", "pset", "cash"],
    prerequisites: ["task_cs50_week6_sentimental_mario"],
  },

  // =========================================================
  // WEEK 7 (SQL)
  // =========================================================
  {
    id: "task_cs50_week7_sql_notes_basics",
    type: "leaf",
    parentId: "stage_cs50_week7",
    order: 0,
    title: "SQL 基礎筆記：SELECT / WHERE / ORDER BY",
    description:
      "寫 SQL 筆記：SELECT/WHERE/ORDER BY/LIMIT，並寫 3 條示例查詢語句。",
    energy: "easy",
    duration: { min: 15, max: 30 },
    tags: ["cs50", "week7", "sql", "notes"],
    prerequisites: ["task_cs50_week6_sentimental_cash"],
  },
  {
    id: "task_cs50_week7_sql_groupby_notes",
    type: "leaf",
    parentId: "stage_cs50_week7",
    order: 1,
    title: "理解 GROUP BY / COUNT / AVG",
    description:
      "寫 5 條 SQL 練習：COUNT、AVG、GROUP BY、HAVING。理解聚合查詢。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week7", "sql", "groupby"],
    prerequisites: ["task_cs50_week7_sql_notes_basics"],
  },
  {
    id: "task_cs50_week7_sql_join_notes",
    type: "leaf",
    parentId: "stage_cs50_week7",
    order: 2,
    title: "理解 JOIN（INNER/LEFT）",
    description:
      "寫筆記：JOIN 是什麼？foreign key 是什麼？寫 3 條 JOIN 查詢語句。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week7", "sql", "join", "notes"],
    prerequisites: ["task_cs50_week7_sql_groupby_notes"],
  },
  {
    id: "task_cs50_week7_sqlite_practice_micro",
    type: "leaf",
    parentId: "stage_cs50_week7",
    order: 3,
    title: "SQLite：建立一個小資料庫並查詢",
    description:
      "建立一個 sqlite db：建立 table、插入 5 條資料，再用 SELECT 查詢並排序。",
    energy: "medium",
    duration: { min: 25, max: 45 },
    tags: ["cs50", "week7", "sqlite", "practice"],
    prerequisites: ["task_cs50_week7_sql_join_notes"],
  },
  {
    id: "task_cs50_week7_fiftyville",
    type: "leaf",
    parentId: "stage_cs50_week7",
    order: 4,
    title: "Problem Set：Fiftyville（SQL 推理破案）",
    description:
      "完成 Fiftyville：用 SQL 查詢線索，推理出嫌疑人、同夥、逃跑路線。",
    energy: "hard",
    duration: { min: 90, max: 180 },
    tags: ["cs50", "week7", "pset", "sql", "fiftyville"],
    prerequisites: ["task_cs50_week7_sqlite_practice_micro"],
  },

  // =========================================================
  // WEEK 8 (Web: HTML/CSS/JS)
  // =========================================================
  {
    id: "task_cs50_week8_html_notes",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 0,
    title: "HTML 筆記：基本結構 + semantic tags",
    description:
      "寫 HTML 筆記：head/body、div/section/nav、form、input/button、aria 概念。",
    energy: "easy",
    duration: { min: 15, max: 30 },
    tags: ["cs50", "week8", "html", "notes"],
    prerequisites: ["task_cs50_week7_fiftyville"],
  },
  {
    id: "task_cs50_week8_css_notes",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 1,
    title: "CSS 筆記：box model + flex + responsive",
    description:
      "寫 CSS 筆記：margin/padding/border、flex、grid 概念、media query。",
    energy: "easy",
    duration: { min: 15, max: 35 },
    tags: ["cs50", "week8", "css", "notes"],
    prerequisites: ["task_cs50_week8_html_notes"],
  },
  {
    id: "task_cs50_week8_build_static_page",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 2,
    title: "做一個靜態頁：個人介紹頁（HTML+CSS）",
    description:
      "做一個簡單個人頁：header、nav、main、footer。CSS 做排版（flex）。",
    energy: "medium",
    duration: { min: 30, max: 70 },
    tags: ["cs50", "week8", "html", "css", "practice"],
    prerequisites: ["task_cs50_week8_css_notes"],
  },
  {
    id: "task_cs50_week8_js_notes_dom",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 3,
    title: "JS 筆記：DOM + event listener",
    description:
      "寫筆記：querySelector、addEventListener、事件冒泡概念，並寫 2 個示例。",
    energy: "medium",
    duration: { min: 20, max: 45 },
    tags: ["cs50", "week8", "javascript", "dom", "notes"],
    prerequisites: ["task_cs50_week8_build_static_page"],
  },
  {
    id: "task_cs50_week8_js_micro_app",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 4,
    title: "JS 小應用：Todo / Counter 任選一個",
    description:
      "做一個超小 JS App：counter 或 todo list（能新增/刪除/保存到 localStorage）。",
    energy: "hard",
    duration: { min: 45, max: 90 },
    tags: ["cs50", "week8", "javascript", "project"],
    prerequisites: ["task_cs50_week8_js_notes_dom"],
  },
  {
    id: "task_cs50_week8_homepage",
    type: "leaf",
    parentId: "stage_cs50_week8",
    order: 5,
    title: "Problem Set：Homepage",
    description:
      "完成 Homepage：做一個多頁網站，含 CSS + JS 互動，符合 CS50 要求。",
    energy: "hard",
    duration: { min: 90, max: 160 },
    tags: ["cs50", "week8", "pset", "homepage", "web"],
    prerequisites: ["task_cs50_week8_js_micro_app"],
  },
  // =========================================================
  // STAGES (Week 9 ~ Week 10 + Final)
  // =========================================================
  {
    id: "stage_cs50_week9",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 9,
    title: "CS50 Week 9: Flask",
    description:
      "Web backend：Flask、route、template、session、form、CRUD、MVC 思維。",
    energy: "hard",
    duration: { min: 15, max: 35 },
    tags: ["cs50", "week9", "flask", "backend", "stage"],
    prerequisites: ["task_cs50_week8_homepage"],
  },
  {
    id: "stage_cs50_week10",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 10,
    title: "CS50 Week 10: Cybersecurity / Ethics / Review",
    description:
      "收束與延伸：安全、密碼學思維、web security、課程回顧與 project 準備。",
    energy: "medium",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "week10", "security", "review", "stage"],
    prerequisites: ["task_cs50_week9_finance"],
  },
  {
    id: "stage_cs50_final_project",
    type: "stage",
    parentId: "root_cs50_2026",
    order: 11,
    title: "CS50 Final Project",
    description:
      "Final Project：選題、設計、MVP、迭代、錄 demo、寫 writeup、提交。",
    energy: "hard",
    duration: { min: 20, max: 60 },
    tags: ["cs50", "final-project", "stage"],
    prerequisites: ["task_cs50_week10_review_map"],
  },

  // =========================================================
  // WEEK 9 (Flask)
  // =========================================================
  {
    id: "task_cs50_week9_flask_notes",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 0,
    title: "Flask 筆記：route / request / response",
    description:
      "寫筆記：@app.route、GET/POST、request.form、redirect、render_template。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "week9", "flask", "notes"],
    prerequisites: ["task_cs50_week8_homepage"],
  },
  {
    id: "task_cs50_week9_build_min_flask_app",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 1,
    title: "做一個最小 Flask App（Hello + Template）",
    description:
      "建立 app.py + templates/index.html，完成 render_template，確保跑得起來。",
    energy: "hard",
    duration: { min: 30, max: 60 },
    tags: ["cs50", "week9", "flask", "practice"],
    prerequisites: ["task_cs50_week9_flask_notes"],
  },
  {
    id: "task_cs50_week9_form_post_practice",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 2,
    title: "Flask：做一個表單 POST 練習",
    description: "做一個表單輸入名字，POST 後顯示歡迎頁。理解 request.form。",
    energy: "hard",
    duration: { min: 30, max: 70 },
    tags: ["cs50", "week9", "flask", "forms"],
    prerequisites: ["task_cs50_week9_build_min_flask_app"],
  },
  {
    id: "task_cs50_week9_session_notes",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 3,
    title: "理解 session：登入狀態如何保存",
    description:
      "寫筆記：cookie vs session，session 存什麼？為什麼不能把敏感信息放前端？",
    energy: "medium",
    duration: { min: 15, max: 35 },
    tags: ["cs50", "week9", "session", "security", "notes"],
    prerequisites: ["task_cs50_week9_form_post_practice"],
  },
  {
    id: "task_cs50_week9_crud_micro_app",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 4,
    title: "做一個 CRUD mini app（任務清單）",
    description: "做一個 mini app：新增/刪除/列出 todo。用 sqlite 存資料。",
    energy: "hard",
    duration: { min: 60, max: 120 },
    tags: ["cs50", "week9", "flask", "crud", "sqlite"],
    prerequisites: ["task_cs50_week9_session_notes"],
  },
  {
    id: "task_cs50_week9_finance",
    type: "leaf",
    parentId: "stage_cs50_week9",
    order: 5,
    title: "Problem Set：Finance（股票交易系統）",
    description:
      "完成 Finance：login/register、quote、buy/sell、history。CS50 經典大作業。",
    energy: "hard",
    duration: { min: 180, max: 360 },
    tags: ["cs50", "week9", "pset", "finance", "flask"],
    prerequisites: ["task_cs50_week9_crud_micro_app"],
  },

  // =========================================================
  // WEEK 10 (Review / Security / Wrap-up)
  // =========================================================
  {
    id: "task_cs50_week10_security_notes",
    type: "leaf",
    parentId: "stage_cs50_week10",
    order: 0,
    title: "安全筆記：SQL injection / XSS / CSRF",
    description:
      "寫筆記：SQL injection 怎麼發生？XSS 是什麼？CSRF 是什麼？如何防禦？",
    energy: "medium",
    duration: { min: 25, max: 45 },
    tags: ["cs50", "week10", "security", "notes"],
    prerequisites: ["task_cs50_week9_finance"],
  },
  {
    id: "task_cs50_week10_password_hash_notes",
    type: "leaf",
    parentId: "stage_cs50_week10",
    order: 1,
    title: "密碼學筆記：hash vs encryption",
    description:
      "寫筆記：hash 與 encryption 的差異，salt 的作用，為什麼不能存明文密碼。",
    energy: "medium",
    duration: { min: 15, max: 35 },
    tags: ["cs50", "week10", "crypto", "notes"],
    prerequisites: ["task_cs50_week10_security_notes"],
  },
  {
    id: "task_cs50_week10_review_map",
    type: "leaf",
    parentId: "stage_cs50_week10",
    order: 2,
    title: "畫一張 CS50 全課程知識地圖",
    description: "畫一張思維導圖：Week0~Week9 主要概念，每週列出 3 個核心點。",
    energy: "easy",
    duration: { min: 20, max: 45 },
    tags: ["cs50", "week10", "review", "mindmap"],
    prerequisites: ["task_cs50_week10_password_hash_notes"],
  },

  // =========================================================
  // FINAL PROJECT (Stage -> Leaf Tree)
  // =========================================================
  {
    id: "task_cs50_final_pick_topic",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 0,
    title: "Final Project：選 3 個題目候選",
    description:
      "列 3 個 project idea，每個寫：用途、用戶、核心功能、技術棧（Flask/React/SQL）。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "final-project", "planning", "idea"],
    prerequisites: ["task_cs50_week10_review_map"],
  },
  {
    id: "task_cs50_final_choose_one",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 1,
    title: "Final Project：選定唯一題目 + 一句話描述",
    description:
      "選一個題目，寫一句話 pitch：『這是一個幫助 XXX 做到 XXX 的系統』。",
    energy: "easy",
    duration: { min: 10, max: 20 },
    tags: ["cs50", "final-project", "planning"],
    prerequisites: ["task_cs50_final_pick_topic"],
  },
  {
    id: "task_cs50_final_define_mvp",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 2,
    title: "Final Project：定義 MVP（最小可交付版本）",
    description:
      "寫 MVP 功能清單（最多 5 個），並寫出『不做』清單（至少 5 個）。",
    energy: "medium",
    duration: { min: 20, max: 45 },
    tags: ["cs50", "final-project", "mvp", "planning"],
    prerequisites: ["task_cs50_final_choose_one"],
  },
  {
    id: "task_cs50_final_user_flow",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 3,
    title: "Final Project：畫 User Flow（用戶流程）",
    description:
      "用文字或簡圖畫出：用戶從進入網站到完成目標的全流程（至少 6 步）。",
    energy: "medium",
    duration: { min: 20, max: 40 },
    tags: ["cs50", "final-project", "ux", "planning"],
    prerequisites: ["task_cs50_final_define_mvp"],
  },
  {
    id: "task_cs50_final_db_schema",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 4,
    title: "Final Project：設計資料庫 schema（tables + fields）",
    description:
      "設計 sqlite schema：至少 3 張表，包含 primary key 與 foreign key 概念。",
    energy: "hard",
    duration: { min: 30, max: 70 },
    tags: ["cs50", "final-project", "database", "schema"],
    prerequisites: ["task_cs50_final_user_flow"],
  },
  {
    id: "task_cs50_final_api_routes",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 5,
    title: "Final Project：列出 routes / API endpoints",
    description: "列出所有 Flask routes：GET/POST 對應哪些功能，至少 8 條。",
    energy: "hard",
    duration: { min: 25, max: 60 },
    tags: ["cs50", "final-project", "flask", "routes"],
    prerequisites: ["task_cs50_final_db_schema"],
  },
  {
    id: "task_cs50_final_build_skeleton",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 6,
    title: "Final Project：搭建 skeleton（專案骨架）",
    description:
      "建立 Flask 專案骨架：app.py、templates/、static/、database.db、requirements.txt。",
    energy: "hard",
    duration: { min: 30, max: 80 },
    tags: ["cs50", "final-project", "setup", "flask"],
    prerequisites: ["task_cs50_final_api_routes"],
  },
  {
    id: "task_cs50_final_auth",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 7,
    title: "Final Project：實作登入/註冊（Auth）",
    description: "實作 register/login/logout，並用 session 記錄登入狀態。",
    energy: "hard",
    duration: { min: 60, max: 150 },
    tags: ["cs50", "final-project", "auth", "security"],
    prerequisites: ["task_cs50_final_build_skeleton"],
  },
  {
    id: "task_cs50_final_core_feature_1",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 8,
    title: "Final Project：核心功能 1（最重要的那個）",
    description:
      "實作 MVP 最重要的核心功能，確保 end-to-end 跑通（前端表單 → DB → 顯示結果）。",
    energy: "hard",
    duration: { min: 90, max: 240 },
    tags: ["cs50", "final-project", "feature", "mvp"],
    prerequisites: ["task_cs50_final_auth"],
  },
  {
    id: "task_cs50_final_core_feature_2",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 9,
    title: "Final Project：核心功能 2（次重要）",
    description: "實作第二個核心功能，確保資料寫入與讀取正確。",
    energy: "hard",
    duration: { min: 60, max: 180 },
    tags: ["cs50", "final-project", "feature", "mvp"],
    prerequisites: ["task_cs50_final_core_feature_1"],
  },
  {
    id: "task_cs50_final_polish_ui",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 10,
    title: "Final Project：UI 美化與一致性整理",
    description:
      "整理 CSS / layout：讓整個網站看起來像一個產品，而不是 demo 拼湊。",
    energy: "medium",
    duration: { min: 45, max: 120 },
    tags: ["cs50", "final-project", "ui", "css"],
    prerequisites: ["task_cs50_final_core_feature_2"],
  },
  {
    id: "task_cs50_final_bugfix_pass",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 11,
    title: "Final Project：Bugfix pass（修 bug 一輪）",
    description:
      "專門花一輪時間：修 bug、處理 edge cases、避免 crash、處理空輸入。",
    energy: "hard",
    duration: { min: 45, max: 150 },
    tags: ["cs50", "final-project", "debugging"],
    prerequisites: ["task_cs50_final_polish_ui"],
  },
  {
    id: "task_cs50_final_write_readme",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 12,
    title: "Final Project：寫 README（安裝 + 使用方式）",
    description: "寫 README：安裝步驟、如何運行、功能列表、技術棧、注意事項。",
    energy: "medium",
    duration: { min: 30, max: 70 },
    tags: ["cs50", "final-project", "documentation", "readme"],
    prerequisites: ["task_cs50_final_bugfix_pass"],
  },
  {
    id: "task_cs50_final_record_demo",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 13,
    title: "Final Project：錄製 Demo Video",
    description:
      "錄一個 demo video：展示主要功能流程。確保語音清晰或字幕清楚。",
    energy: "medium",
    duration: { min: 20, max: 60 },
    tags: ["cs50", "final-project", "demo", "video"],
    prerequisites: ["task_cs50_final_write_readme"],
  },
  {
    id: "task_cs50_final_submit",
    type: "leaf",
    parentId: "stage_cs50_final_project",
    order: 14,
    title: "Final Project：提交 + 自檢 checklist",
    description:
      "提交前自檢：requirements、README、demo、功能可跑、資料庫初始化步驟完整。",
    energy: "easy",
    duration: { min: 10, max: 25 },
    tags: ["cs50", "final-project", "submit"],
    prerequisites: ["task_cs50_final_record_demo"],
  },
];
